{"version":3,"file":"Albums-ugahEhFO.js","sources":["../../../../../shared/components-lib/src/components/Photos/Albums.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport Card from \"../Card/Card.vue\";\nimport breakpoints from \"@utils/breakpoints\";\nimport Image from \"../../atoms/Image/Image.vue\";\nimport type { RouteLocationRaw } from \"vue-router\";\nimport CustomLink from \"../../atoms/CustomLink.vue\";\nimport CardBody from \"../../atoms/Card/CardBody.vue\";\nimport { ImageRenderSizes } from \"@enums/image.enum\";\nimport CardHeader from \"../../atoms/Card/CardHeader.vue\";\nimport { openS3ImagesFancyBox } from \"@utils/fancybox.utils\";\nimport { getSizedImageUrlFromS3Image } from \"@utils/storage\";\nimport { useI18n } from \"vue-i18n\";\nimport fallbackImage from \"assets/img/fallbacks/images_empty_state.svg\";\nimport type { S3Image } from \"types/models/storage\";\n\nconst props = defineProps<{\n  images: Array<S3Image>;\n  albumName: string;\n  route?: RouteLocationRaw;\n}>();\n\nconst { t } = useI18n();\n\nconst photosDisplayNumber = computed(() => (breakpoints.md.value ? 3 : 2));\nconst cardHeaderProps = computed(() =>\n  props.route ? { is: CustomLink, to: props.route } : { is: \"div\" }\n);\n</script>\n\n<template>\n  <Card class=\"album-card\">\n    <CardHeader\n      v-bind=\"cardHeaderProps\"\n      :divider=\"false\"\n      target=\"_blank\"\n      class=\"d-block pb-3 text-4 text-shade-1 text-underline-hover\"\n    >\n      {{ albumName }}\n    </CardHeader>\n    <CardBody\n      class=\"align-items-center d-flex justify-content-center overflow-hidden pt-0\"\n      :class=\"\n        images.length > 0\n          ? 'gap-5'\n          : 'gap-0 empty-state-container flex-direction-column text-2 text-shade-2 text-center'\n      \"\n    >\n      <template v-if=\"images.length\">\n        <div\n          v-for=\"(photo, index) in images.slice(0, photosDisplayNumber)\"\n          :key=\"index\"\n          class=\"position-relative\"\n        >\n          <Image\n            class=\"cursor-pointer\"\n            :src=\"getSizedImageUrlFromS3Image(photo, ImageRenderSizes.SIZE256)\"\n            @click.stop=\"openS3ImagesFancyBox(images, index)\"\n          />\n          <div\n            v-if=\"images.length > photosDisplayNumber && index === photosDisplayNumber - 1\"\n            class=\"cursor-pointer overlay text-7\"\n            @click.stop=\"openS3ImagesFancyBox(images, index)\"\n          >\n            {{ `+${images.length - photosDisplayNumber}` }}\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <Image\n          img-classes=\"aspect-ratio-1\"\n          class=\"fallback-image\"\n          :fallback-image=\"fallbackImage\"\n        />\n        {{ t(\"emptyStates.no_images_in_the_album\") }}\n      </template>\n    </CardBody>\n  </Card>\n</template>\n\n<style lang=\"scss\" scoped>\n.album-card {\n  max-width: 840px;\n  transition: box-shadow 0.3s;\n\n  &:hover {\n    box-shadow: var(--ct-box-shadow_large);\n  }\n}\n\n.overlay {\n  top: 0;\n  width: 100%;\n  height: 100%;\n  color: white;\n  display: flex;\n  position: absolute;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--ct-color_shade-3);\n}\n\n.fallback-image {\n  max-height: 128px;\n  aspect-ratio: 1;\n}\n\n.empty-state-container {\n  height: 256px;\n}\n</style>\n"],"names":["t","useI18n","photosDisplayNumber","computed","breakpoints","cardHeaderProps","props","CustomLink"],"mappings":"saAsBA,CAAA,EAAAA,GAAAC,IAEAC,EAAAC,EAAA,IAAAC,EAAA,GAAA,MAAA,EAAA,CAAA,EACAC,EAAAF,EAAwB,IAAAG,EAAA,MAAA,CAAA,GAAAC,EAAA,GAAAD,EAAA,KAAA,EAAA,CAAA,GAAA,KAAA,CAC0C"}